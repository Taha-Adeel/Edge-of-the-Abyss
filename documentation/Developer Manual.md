# Developer Manual

Welcome to the Developer Manual for the game "Edge of the abyss".

This project uses the SFML library for its multimedia capabilities. You can familiarize 
yourself with SFML through this [simple tutorial.](https://www.sfml-dev.org/tutorials/2.5/). An
indepth documentation of the code can be read from [here](html/index.html).
Below is a high level view on how the classes are related, and possible future contibutions
you can make.

## Brief overview of SFML's features.
SFML provides the following very useful classes

> sf::RenderWindow - This creates a window on which everything is drawn and rendered

> sf::Event - This class lets us log and respond to the different types of user inputs (key pressed, mouse moved, etc)

> sf::Texture - This class lets us load a texture from an image and set the texture of an sf::Sprite

> sf::Sprite - Very useful class. Can be assigned a texture and drawn to the window, and transformed very easily with its many member functions.

## Design of the Project

> The highest level class is the Game class, which handles everything. It has 3 important functions, run(), handleEvent(), and render(). run() runs a continuous while loop, with each iteration translating to a frame. And each frame, the game is updated, the events are handled, and the game is rendered.  

> The game is updated based on what "state" it is in(Like main menu, playing state, etc). Game delegates the work(eventHandeling, updating and rendering) to these states. For now, there is only one state, PlayingState.  

> PlayingState contains the player, the level, the camera, and other gameplay relevant stuff. It delegates its work to these member objects.

> There are multiple modes the player can be in, and a skeleton of the player class is defined as a base class. Different modes can override particular steps of the algorithm to implement different modes (template method). More precisely, the steps to update movement, or rotation, or velocities, or collision resolution can be overriden.

> The level data is generated by [Tiled](https://www.mapeditor.org/), which is then parsed by Level class (using tinyxml2) to get the TileMap that makes the Level. Each tile in the tilemap has a sprite, a position in the level, its transformations, and its collision boundaries.

> The camera class provides more functionality to sf::View and follows the player in the level.

> Different utility classes provide helpful features and functions such as the following.
>> Sprite class provides more functionality to sf::Sprite and has efficient memory handeling as it uses the ResourceManager(which uses assetpools)
>
>> Bounds classes provide functions to check for collisions between boxBounds and triangle bounds and other helpful features.
>
>> Score class displayes the score, and maintains highscores across multiple game runs.


## Contribution

> Features such as main menu, level editing, practice mode, shop, etc can added by inheriting from StateBase and implementing its methods.

> New gamemodes (like similar to flappy bird, or flip gravity on input, etc) can be added by inheriting from player and overriding the relavant steps.

> Features like jump pads, coins, etc can be added by defining appropriate resolveCollision methods for them.

> More levels can be added by using [Tiled](https://www.mapeditor.org/) and adding the tmx files to ./maps

> Audio, animations, background color changes, etc can be added